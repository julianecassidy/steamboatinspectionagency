---
import LinkButton from "@components/LinkButton.astro";
import { SOCIALS } from "@config";
import Socials from "./Socials.astro";

const socialCount = SOCIALS.filter(social => social.active).length;
---

<div class="about prose">
  <h2>about</h2>
  <img src="/profile.jpg" alt="Headshot of Jules Harter" />
  <div class="about-content">
    <p>
      AstroPaper is a minimal, responsive, accessible and SEO-friendly Astro
      blog theme. This theme follows best practices and provides accessibility
      out of the box. Light and dark mode are supported by default. Moreover,
      additional color schemes can also be configured.
    </p>
    <p class="w-full text-center text-accent mt-3 sm:w-42 md:w-full" )>
      <LinkButton href="/about">
        read more about me
        <svg xmlns="http://www.w3.org/2000/svg"
          ><path
            d="m11.293 17.293 1.414 1.414L19.414 12l-6.707-6.707-1.414 1.414L15.586 11H6v2h9.586z"
          ></path>
        </svg>
      </LinkButton>
    </p>
    {
      // only display if at least one social link is enabled
      socialCount > 0 && (
        <div class="social-wrapper">
          <b>find me around:</b>
          <Socials />
        </div>
      )
    }
  </div>
</div>

<style>
  .about {
    @apply flex flex-wrap bg-border/50 pb-6 max-w-max -ml-2 -mr-6 px-4 sm:my-4 md:mx-0 md:px-0 md:bg-fill;
  }
  .about h2 {
    @apply my-4 inline-block w-full text-center text-xl sm:my-8 sm:text-2xl;
  }
  .about img {
    @apply w-56 sm:w-56 sm:h-auto md:ml-0 md:w-60;
  }
  .about-content {
    @apply mb-4 mt-4 sm:w-7/12 md:w-full;
  }
  .social-wrapper {
    @apply mt-2 flex w-full flex-col items-center justify-center;
  }
  .social-links {
    @apply mb-1 mr-2 whitespace-nowrap sm:mb-0;
  }
</style>
