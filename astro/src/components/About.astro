---
import LinkButton from "@components/LinkButton.astro";
import { SOCIALS } from "@config";
import Socials from "./Socials.astro";

const socialCount = SOCIALS.filter(social => social.active).length;
---

<div class="about prose">
  <h2>about</h2>
  <img src="/profile.jpg" alt="Headshot of Jules Harter" />
  <div class="about-content">
    <p>
      Hello, I'm Jules. I am trying everything, failing frequently, and learning
      often. Join me on the adventure.
    </p>
    <p class="sm:w-42 mt-3 w-full text-center text-accent md:w-full" )>
      <LinkButton href="/about">
        read more about me
        <svg xmlns="http://www.w3.org/2000/svg"
          ><path
            d="m11.293 17.293 1.414 1.414L19.414 12l-6.707-6.707-1.414 1.414L15.586 11H6v2h9.586z"
          ></path>
        </svg>
      </LinkButton>
    </p>
    {
      // only display if at least one social link is enabled
      socialCount > 0 && (
        <div class="social-wrapper">
          <b>find me around:</b>
          <Socials />
        </div>
      )
    }
  </div>
</div>

<style>
  .about {
    @apply -ml-2 -mr-6 flex max-w-max flex-wrap bg-border/50 px-4 pb-6 sm:pl-12 sm:pb-12 sm:my-4 md:mx-0 md:bg-fill md:p-0;
  }
  .about h2 {
    @apply my-4 inline-block w-full text-center text-xl sm:my-8 sm:text-2xl;
  }
  .about img {
    @apply h-64 sm:ml-0 sm:h-72 md:ml-0 md:h-80;
  }
  .about-content {
    @apply mb-4 mt-4 sm:w-7/12 md:w-full;
  }
  .social-wrapper {
    @apply mt-2 flex w-full flex-col items-center justify-center;
  }
  .social-links {
    @apply mb-1 mr-2 whitespace-nowrap sm:mb-0;
  }
</style>
